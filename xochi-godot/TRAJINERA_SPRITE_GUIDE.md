# ðŸš¤ Trajinera Sprite Integration Guide

## âœ… What's Done

### Beautiful Trajinera Sprite Integrated!

The gorgeous pixel art trajinera sprite generated by **nano banana** is now integrated into the game!

**Location**: `assets/sprites/environment/trajinera_base.png`

**Sprite Details**:
- Resolution: 2816 x 1536 pixels (high quality!)
- Style: Beautiful Mexican trajinera with:
  - Yellow/green canopy arch
  - Red/pink decorative pillars
  - Colorful nameplate with "GVP" text
  - Blue hull with flower decorations
  - Traditional Xochimilco style
  - Perfect pixel art aesthetic

### Code Changes

Updated `scenes/game/game_scene.gd` line 636 (`_create_trajinera` function):
- **Before**: Used ColorRect shapes to draw procedural trajineras
- **After**: Uses Sprite2D with the beautiful pixel art sprite
- **Features**:
  - Automatic scaling to match game size (120-160px wide)
  - Color tinting for variety (subtle, preserves original colors)
  - Proper collision shape positioning for player standing
  - Fallback to ColorRect if sprite fails to load

---

## ðŸŽ¨ Creating Color Variants

The game currently uses **color tinting** to create variety from the base sprite. To add **distinct color variants** (pink, turquoise, orange, purple, green canopies), you have two options:

### Option 1: Generate More Sprites with Nano Banana (Recommended)

Use this prompt with nano banana to generate 5 more variants:

```
pixel art sprite of Mexican trajinera boat, colorful decorated gondola,
similar style to the previous one, but with [COLOR] canopy:

Variant 1: HOT PINK canopy with purple pillars, yellow flowers
Variant 2: TURQUOISE canopy with cyan pillars, orange flowers
Variant 3: BRIGHT ORANGE canopy with red pillars, yellow flowers
Variant 4: DEEP PURPLE canopy with magenta pillars, pink flowers
Variant 5: LIME GREEN canopy with emerald pillars, orange flowers

Keep the same composition: curved canopy arch, decorative pillars,
nameplate banner, blue hull, flower decorations on sides.
2816x1536 pixels, pixel art style, transparent background PNG,
vibrant Mexican folk art colors.
```

**Save them as**:
- `trajinera_pink.png`
- `trajinera_turquoise.png`
- `trajinera_orange.png`
- `trajinera_purple.png`
- `trajinera_green.png`

Then copy to: `xochi-godot/assets/sprites/environment/`

### Option 2: Use the Current Tinting System

The current code applies color tints to the base sprite:

```gdscript
sprite.modulate = traj_color.lerp(Color.WHITE, 0.6)
```

This creates **subtle variations** while preserving the original sprite's details. The `traj_color` comes from the level data, so different trajineras get different tints (pink, cyan, yellow, orange, etc.).

**Pros**: Works now, no additional assets needed
**Cons**: Colors are muted (tinted, not replaced)

---

## ðŸ”§ How to Use Multiple Sprite Variants

If you generate the 5 color variants above, update `_create_trajinera` to randomly select sprites:

```gdscript
# Array of available trajinera sprite paths
const TRAJINERA_SPRITES: Array[String] = [
	"res://assets/sprites/environment/trajinera_base.png",
	"res://assets/sprites/environment/trajinera_pink.png",
	"res://assets/sprites/environment/trajinera_turquoise.png",
	"res://assets/sprites/environment/trajinera_orange.png",
	"res://assets/sprites/environment/trajinera_purple.png",
	"res://assets/sprites/environment/trajinera_green.png",
]

func _create_trajinera(data: Dictionary) -> void:
	# ... (existing code) ...

	# Randomly select a trajinera variant
	var sprite_path: String = TRAJINERA_SPRITES[randi() % TRAJINERA_SPRITES.size()]
	var sprite_texture: Texture2D = load(sprite_path)

	# ... (rest of the function) ...
```

Or, **map colors to specific sprites**:

```gdscript
# Map level data colors to sprite variants
var sprite_path: String = "res://assets/sprites/environment/"
match traj_color:
	Color("ff6699"), Color("ff6b9d"):  # Pink
		sprite_path += "trajinera_pink.png"
	Color("4ecdc4"), Color("44ccaa"):  # Turquoise
		sprite_path += "trajinera_turquoise.png"
	Color("ffa500"), Color("ff8c00"):  # Orange
		sprite_path += "trajinera_orange.png"
	Color("9b59b6"), Color("6644aa"):  # Purple
		sprite_path += "trajinera_purple.png"
	Color("88cc44"), Color("44cc88"):  # Green
		sprite_path += "trajinera_green.png"
	_:  # Default to base
		sprite_path += "trajinera_base.png"

var sprite_texture: Texture2D = load(sprite_path)
```

---

## ðŸŽ® Test It Now!

Run the game to see the beautiful trajineras in action:

```bash
cd /Users/victoraguiar/Documents/GitHub/Xochi/xochi-godot
./run.sh
```

**What you'll see in Level 1**:
- 5-6 gorgeous trajineras floating in lanes
- Each with subtle color tinting for variety
- Moving left/right automatically
- Player can land on them like platforms
- Authentic Xochimilco vibe! ðŸŒº

---

## ðŸ“‹ Next Steps

1. **Test the current integration** - See how the sprite looks in-game
2. **Generate color variants** (optional) - Use nano banana for distinct colors
3. **Add more decoration** (optional):
   - Flower particle effects around trajineras
   - Water ripples under boats
   - More detailed backgrounds

---

## ðŸ› Troubleshooting

### Sprite doesn't appear:
- Check console for "Failed to load trajinera sprite" warning
- Verify file exists: `ls assets/sprites/environment/trajinera_base.png`
- Try reimporting in Godot: Project > Reimport

### Sprite is too big/small:
- Adjust scale calculation in `_create_trajinera()`:
  ```gdscript
  var scale_factor: float = (traj_w / sprite_width) * 1.2  # Make 20% bigger
  ```

### Colors look wrong:
- Disable tinting to see original sprite:
  ```gdscript
  sprite.modulate = Color.WHITE  # No tinting
  ```
- Or adjust tint strength:
  ```gdscript
  sprite.modulate = traj_color.lerp(Color.WHITE, 0.8)  # More original color
  ```

### Collision feels wrong:
- Adjust collision shape offset:
  ```gdscript
  shape.position = Vector2(0, 5)  # Change the 8 to 5 or 10
  ```

---

## ðŸŽ¨ Sprite Credit

**Artist**: nano banana AI tool
**Prompt**: "pixel art sprite of Mexican trajinera boat, colorful decorated gondola, 2816x1536 pixels, traditional Xochimilco style"
**Style**: Vibrant Mexican folk art, pixel art aesthetic

Thank you for the beautiful sprite! ðŸŒºâœ¨
